# 🐴 BetterHorses – Advanced Horse Breeding & Storage Plugin

**BetterHorses** is a Minecraft plugin that completely reworks the vanilla horse system by introducing **realistic genetics, mutations, breeding mechanics, and item-based horse storage**. Designed with realism and flexibility in mind, every single feature and value is customizable and toggleable, it’s perfect for survival servers, RPGs, or just better vanilla gameplay.

![1fbf8a99-e548-4b89-934b-9b5479828b7d](https://github.com/user-attachments/assets/45bc889b-419c-4bce-8957-99d857c79a00)

If you have any questions or need help feel free to join my discord server: https://discord.gg/gBEKWGanM7

---

### ✨ Features

- 🧬 **Genetics & Mutation**  
  Horses pass down **Health, Speed, and Jump Strength** to their offspring.  
  A configurable **mutation factor** adds random variation to keep things interesting and realistic.

- 👫 **Gender System**  
  Every horse has a **gender** (♂ / ♀) assigned at spawn or birth.
  Two horses of the same gender cannot breed

- 🏳️ **Language Customization**  
  Every text generated by the plugin can be customized in the `language.yml` file.

- 🏳️ **Growth System**  
  Horses now realistically grow up and increase in size over time, 
  making the transition from baby to adult seemless, the final size of a horse 
  as well as the time it takes to grow up can be customized in the config

- ✂️ **Castration System**  
  Players can use `/horse neuter` to castrate a horse item.  
  Castrated horses are marked and **cannot breed**, just like same-gender pairs.  
  The status is permanently stored in the item and displayed in the lore.

- 🔥 **Horse Traits (Abilities)**  
  Horses can be born or created with **special traits** that provide passive or active effects such as:
  - `Hellmare` – Leaves a trail of fire when the ability is used
  - `Fireheart` – The horse and its rider are immune to fire
  - `Feather Hooves` – The horse and its rider can glide
  - `Frost Hooves` – Freezes water below the horse
  - `Dashboost` - Increases the horse's movement speed significantly for a short amount of time when the ability is used
  - `Kickback` - The horse knocks away all enemies when the ability is used
  - `Ghosthorse` - You and the horse enter the realm of the undead and become invisible for a short amount of time when the ability is used

  Active traits can be used by pressing F (or the swap hands keybind).
  
  All traits are **fully configurable and toggleable** in the `config.yml`:
  - Enable or disable the whole trait-feature
  - Set trait chance
  - Enable/disable individual traits
  - Define duration, cooldown, radius, intensity and more

- 🎒 **/horse despawn**  
  Converts a **tamed horse you're riding** into a **saddle item** that stores:
  - All core stats (including current HP)
  - Gender
  - Owner UUID
  - Saddle & Armor
  - Color & Style
  - Trait
  - Neutered status
  - Custom name (if set)
    
  A horse can only be despawned by its owner.

- ✂️ **/horse neuter**  
  Castrates the horse item in your mainhand. Castration is permanent and cannot be undone. 

- 🧲 **/horse spawn**  
  Spawns a horse **identical to the original** using the stored data in the horse item. 
  Additionally a horse can be spawned by rightclicking while holding the horse item.

- 🛠 **/horsecreate [health] [speed] [jump] [gender] [name] [trait]**  
  Administrator command to generate a custom horse item with your own stats, name, and optional **specific trait**.  
  If no trait is provided, one is selected randomly based on configured chances, traits can only be selected if enabled in the config.  

---

### ⚙️ Configuration

Inside your `config.yml`:

```yaml
# BetterHorses config

# Customizes how big the maximum positive or negative mutation effect is (e.g. 0.05 = ±0.05)
# e.g. health-factor 3 means the health of the child can be up to 3 HP higher or lower than the average HP of both parents
mutation-factor:
  health: 3.0
  speed: 0.05
  jump: 0.05

# Max stats a horse can reach
max-stats:
  health: 300.0
  speed: 0.4
  jump: 1.2

# Settings that determine horse growth
horse-growth-settings:

  # If false, horses will remain their Vanilla size, this feature only works for Paper 1.20.6 & Java 21 or above
  enabled: true

  # The time in minutes that needs to pass until a horse is fully grown
  time-until-adult: 3

  # The maximum size a horse can reach, this is the scale applied to a vanilla sized horse
  # If the value remains 1, an adult horse will be vanilla sized
  max-size: 1.3 # 30% bigger than vanilla

# General settings
settings:

  # Customizes the original item a horse item is
  horse-item: SADDLE

  # Allows two horses of the same gender to breed
  allow-same-gender-breeding: false

  # Allows spawning the horse by rightclicking with the horse item
  allow-rightclick-spawn: true

  # If enabled, players riding a horse cant be hit
  rider-invulnerable: false

  # Fixes a vanilla bug where horses cant automatically climb from a path block onto a full block
  # because it exceeds their 1-block step height, only applies to mounted horses
  fix-step-height: true

  # Traited horses will have particles around them, disabling this will result in slightly better performance
  trait-particle-indicator: true

  # The amount of time in seconds that a horse needs before it can breed again (set to 0 for no cooldown)
  breeding-cooldown: 300 # 5 minutes

  # If true, male horses will ignore the breeding cooldown
  male-ignore-cooldown: true

  cooldown-display:
    # If false, the trait cooldown isn't displayed at all
    enabled: true

    # If true, the trait cooldown is shown as a bossbar when using an ability that is currently on cooldown
    show-bossbar-indicator: false

    # If true, the trait cooldown is shown above the hotbar when using an ability that is currently on cooldown
    show-hotbar-indicator: true

# Horse Abilities
traits:
  # Set this to false to disable the whole trait feature
  enabled: true

  hellmare:
    enabled: true
    chance: 0.005 # 0.5%
    duration: 5
    cooldown: 90
    radius: 2 # Radius of the fire below the horse

  fireheart:
    enabled: true
    chance: 0.01 # 1%

  dashboost:
    enabled: true
    chance: 0.01 # 1%
    duration: 10
    cooldown: 30

  featherhooves:
    enabled: true
    chance: 0.01 # 1%

  frosthooves:
    enabled: true
    chance: 0.005 # 0.5%
    radius: 3 # Radius of the ice below the horse

  kickback:
    enabled: true
    chance: 0.005 # 0.5%
    radius: 4
    strength: 6
    cooldown: 20

  ghosthorse:
    enabled: true
    chance: 0.005 # 0.5%
    duration: 5
    cooldown: 30

  skyburst:
    enabled: true
    chance: 0.003 # 0.3%
    radius: 4

  revenantcurse:
    enabled: true
    chance: 0.005 # 0.5%
    cooldown: 30
    duration: 10

  heavenhooves:
    enabled: true
    chance: 0.001 # 0.1%
    strength: 0.4
    particles: true
```

---

### 🧩 Requirements

- Minecraft (Paper) `1.16.4` - `1.21.6`
- Java `17+`

---

### 🚀 Installation

1. Download the `BetterHorses-4.1.jar` from this repo.

2. Place it into your server’s `plugins/` folder and restart the server to generate the config file.

3. Adjust the values in the `config.yml` and `language.yml` file.

---

### 📚 Commands

| Command                                  | Description                                 | Permission                          |
|------------------------------------------|---------------------------------------------|-------------------------------------|
| `/horse spawn`                           | Spawn a horse using the item                | `betterhorses.base`                |
| `/horse despawn`                         | Turn the horse you're riding into an item   | `betterhorses.base`              |
| `/horse neuter`                          | Castrate the horse item in your hand        | `betterhorses.neuter`               |
| `/horsecreate`                           | Spawn a custom horse item                   | `betterhorses.create`               |
| `/horsecreate 100 1.0 2.0 male Zeus`     | Create superhorse with custom name "Zeus"   | `betterhorses.create`               |
| `/horsecreate 80 0.3 1.1 female Flare hellmare` | Create horse with fixed trait `hellmare` | `betterhorses.create`               |

---

### 🧠 Plugin API

BetterHorses includes a simple developer API that allows other plugins to create horse items programmatically – no command needed.

#### 🔧 Method

```java
ItemStack horse = BetterHorsesAPI.createHorseItem(
    double health,
    double speed,
    double jump, 
    String gender,      // "male" or "female"
    String name,        // name of the horse
    Player owner,       // owner of the horse
    Inventory inventory,// inventory to place the item into
    boolean dropIfFull, // drop if inventory is full
    String trait        // optional trait name, or null
);
```

---

### 📌 Roadmap Ideas

- [ ] Breeding cooldowns
- [ ] Genetic features
